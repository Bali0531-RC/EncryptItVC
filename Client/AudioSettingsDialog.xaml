<Window x:Class="EncryptItVC.Client.AudioSettingsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Audio Settings" Height="400" Width="500"
        Background="#FF1E1E1E" WindowStartupLocation="CenterOwner">
    
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="White"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Background" Value="#FF2A2A2A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF404040"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" Text="🎙️ Audio Settings" FontSize="20" FontWeight="Bold" 
                   Foreground="#FF00BCD4" HorizontalAlignment="Center" Margin="0,0,0,20"/>
        
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <TextBlock Text="Input Device (Microphone)" FontSize="14" FontWeight="Bold" 
                       Foreground="#FF00BCD4" Margin="0,0,0,5"/>
            <ComboBox x:Name="InputDeviceComboBox" Height="35" Padding="10,5"/>
            <Button x:Name="TestInputButton" Content="🎤 Test Input" 
                    Click="TestInputButton_Click" 
                    Background="#FF4CAF50" BorderBrush="#FF4CAF50" 
                    Foreground="White" Height="30" Margin="0,5,0,0"/>
        </StackPanel>
        
        <StackPanel Grid.Row="2" Margin="0,0,0,15">
            <TextBlock Text="Output Device (Speakers/Headphones)" FontSize="14" FontWeight="Bold" 
                       Foreground="#FF00BCD4" Margin="0,0,0,5"/>
            <ComboBox x:Name="OutputDeviceComboBox" Height="35" Padding="10,5"/>
            <Button x:Name="TestOutputButton" Content="🔊 Test Output" 
                    Click="TestOutputButton_Click" 
                    Background="#FF2196F3" BorderBrush="#FF2196F3" 
                    Foreground="White" Height="30" Margin="0,5,0,0"/>
        </StackPanel>
        
        <StackPanel Grid.Row="3" Margin="0,0,0,15">
            <TextBlock Text="Volume Settings" FontSize="14" FontWeight="Bold" 
                       Foreground="#FF00BCD4" Margin="0,0,0,5"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="🔊" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <Slider x:Name="VolumeSlider" Grid.Column="1" 
                        Minimum="0" Maximum="100" Value="100" 
                        TickPlacement="BottomRight" TickFrequency="10"/>
                <TextBlock Grid.Column="2" Text="{Binding ElementName=VolumeSlider, Path=Value, StringFormat='{}{0:F0}%'}" 
                           VerticalAlignment="Center" Margin="10,0,0,0"/>
            </Grid>
        </StackPanel>
        
        <StackPanel Grid.Row="4" Margin="0,0,0,15">
            <CheckBox x:Name="EnableEchoCancellationCheckBox" Content="Enable Echo Cancellation" 
                      Foreground="White" IsChecked="True"/>
            <CheckBox x:Name="EnableNoiseSuppression" Content="Enable Noise Suppression" 
                      Foreground="White" IsChecked="True" Margin="0,5,0,0"/>
        </StackPanel>
        
        <TextBlock Grid.Row="5" Text="Test your microphone and speakers to ensure proper audio quality." 
                   TextWrapping="Wrap" Foreground="Gray" FontSize="12"/>
        
        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="OkButton" Content="OK" Click="OkButton_Click" 
                    Background="#FF4CAF50" BorderBrush="#FF4CAF50" 
                    Foreground="White" Width="80" Height="35" Margin="0,0,10,0"/>
            <Button x:Name="CancelButton" Content="Cancel" Click="CancelButton_Click" 
                    Background="#FF757575" BorderBrush="#FF757575" 
                    Foreground="White" Width="80" Height="35"/>
        </StackPanel>
    </Grid>
</Window>
